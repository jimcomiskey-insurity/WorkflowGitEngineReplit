<div class="page-container">
  <div class="page-header">
    <div>
      <h1>Workflows</h1>
      <p class="page-subtitle">Manage your insurance program workflows</p>
    </div>
    <button class="primary" (click)="createNewWorkflow()">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="12" y1="5" x2="12" y2="19"></line>
        <line x1="5" y1="12" x2="19" y2="12"></line>
      </svg>
      New Workflow
    </button>
  </div>

  <div class="workflow-grid">
    <div class="workflow-card" *ngFor="let workflow of workflows">
      <div class="workflow-card-header">
        <div class="workflow-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
            <path d="M14 2v6h6"/>
          </svg>
        </div>
        <div class="workflow-info">
          <h3>{{ workflow.workflowName }}</h3>
          <span class="workflow-key">{{ workflow.workflowKey }}</span>
        </div>
        <div class="workflow-card-actions">
          <button class="icon-button" (click)="editWorkflow(workflow.workflowKey)" title="Edit">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
              <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
            </svg>
          </button>
          <button class="icon-button danger" (click)="deleteWorkflow(workflow.workflowKey)" title="Delete">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="3 6 5 6 21 6"></polyline>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            </svg>
          </button>
        </div>
      </div>
      <p class="workflow-description">{{ workflow.description }}</p>
      <div class="workflow-meta">
        <span><strong>Phases:</strong> {{ workflow.phases?.length || 0 }}</span>
        <span><strong>Tasks:</strong> {{ getTaskCount(workflow) }}</span>
      </div>
    </div>
  </div>

  <div *ngIf="workflows.length === 0" class="empty-state">
    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
      <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
      <path d="M14 2v6h6"/>
    </svg>
    <p>No workflows found</p>
    <button class="primary" (click)="createNewWorkflow()">Create Your First Workflow</button>
  </div>
</div>
